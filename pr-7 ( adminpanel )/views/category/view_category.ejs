<%- include('../header') %>

<div class="page-wrapper" style="background-color: #121212; color: #e0e0e0; min-height: 100vh;">

    <div class="container-fluid p-4">
        <!-- Bread Crumb -->
        <div class="page-breadcrumb">
            <div class="row">
                <div class="col-12 d-flex no-block align-items-center">
                    <div class="ml-auto text-right">
                        <nav aria-label="breadcrumb" style="background-color: #1e2a35; padding: 10px; border-radius: 5px;">
                            <ol class="breadcrumb mb-0">
                                <li class="breadcrumb-item"><a href="#" style="color: #6c757d;">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page" style="color: #fff;">Library</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>

        <!-- Category Table -->
        <div class="row">
            <div class="col-12">
                <div class="card" style="background-color: #1e2a35; border-radius: 10px; padding: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.3);">
                    
                    <% if(locals?.message?.success) { %>
                        <div class="alert alert-success" role="alert">
                            <%= locals?.message?.success %>
                        </div>
                    <% } %>

                    <% if(locals?.message?.delete) { %>
                        <div class="alert alert-danger" role="alert">
                            <%= locals?.message?.delete %>
                        </div>
                    <% } %>

                    <div class="card-body">
                        <h3 class="card-title text-center mb-4" style="color: #f8f9fa;">View Categories</h3>
                    </div>

                    <table class="table table-dark table-hover text-center">
                        <thead>
                            <tr style="background-color: #2a3946;">
                                <th scope="col">ID</th>
                                <th scope="col">Category</th>
                                <th scope="col">Action</th>
                                <th scope="col">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% categories.map((cat, index) => { %>
                                <tr>
                                    <th scope="row"><%= ++index %></th>
                                    <td><%= cat?.category %></td>
                                    <td>
                                        <a href="/category/deletecategory?id=<%= cat?.id %>"
                                           class="btn btn-danger btn-sm" style="margin-right: 5px;">Delete</a>
                                        <a href="/category/editcategory?id=<%= cat?.id %>"
                                           class="btn btn-primary btn-sm">Edit</a>
                                    </td>
                                    <td>
                                        <% if(cat?.status === "active") { %>
                                            <a href="/category/changestatus?id=<%= cat?.id %>&status=deactive"
                                               class="btn btn-success btn-sm">
                                               <%= cat?.status %>
                                            </a>
                                        <% } else { %>
                                            <a href="/category/changestatus?id=<%= cat?.id %>&status=active"
                                               class="btn btn-danger btn-sm">
                                               <%= cat?.status %>
                                            </a>
                                        <% } %>
                                    </td>
                                </tr>
                            <% }) %>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer text-center" style="background-color: #1e2a35; padding: 15px; color: #b0b3b8;">
        All Rights Reserved by Matrix-admin. Designed and Developed by 
        <a href="https://wrappixel.com" style="color: #3a71c1;">WrapPixel</a>.
    </footer>

</div>

<%- include('../footer') %>
